<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><title>SUSE Edge Documentation | Requirements &amp; Assumptions</title><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes"/><link rel="stylesheet" type="text/css" href="static/css/style.css"/>
<link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"/><link rel="schema.DCTERMS" href="http://purl.org/dc/terms/"/>
<meta name="title" content="Requirements &amp; Assumptions"/>
<meta name="description" content="The hardware requirements for SUSE Telco Cloud are as follows:"/>
<meta name="book-title" content="SUSE Edge Documentation"/>
<meta name="chapter-title" content="Chapter 40. Requirements &amp; Assumptions"/>
<meta name="tracker-url" content="https://github.com/suse-edge/suse-edge.github.io/issues/new"/>
<meta name="tracker-type" content="gh"/>
<meta name="publisher" content="SUSE"/><meta property="og:title" content="Requirements &amp; Assumptions"/>
<meta property="og:description" content="The hardware requirements for SUSE Telco Cloud are as follo…"/>
<meta property="og:type" content="article"/>
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Requirements &amp; Assumptions"/>
<meta name="twitter:description" content="The hardware requirements for SUSE Telco Cloud are as follo…"/>
<script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": ["TechArticle"],
    "image": "https://www.suse.com/assets/img/suse-white-logo-green.svg",
    
     "isPartOf": {
      "@type": "CreativeWorkSeries",
      "name": "Products &amp; Solutions"
    },
    

    "headline": "Requirements &amp; Assumptions",
  
    "description": "Requirements &amp; Assumptions",
      
    "author": [
      {
        "@type": "Corporation",
        "name": "SUSE Product &amp; Solution Documentation Team",
        "url": "https://www.suse.com/assets/img/suse-white-logo-green.svg"
      }
    ],
      

    "about": [
      
    ],
  
    "sameAs": [
          "https://www.facebook.com/SUSEWorldwide/about",
          "https://www.youtube.com/channel/UCHTfqIzPKz4f_dri36lAQGA",
          "https://twitter.com/SUSE",
          "https://www.linkedin.com/company/suse"
    ],
    "publisher": {
      "@type": "Corporation",
      "name": "SUSE",
      "url": "https://documentation.suse.com",
      "logo": {
        "@type": "ImageObject",
        "url": "https://www.suse.com/assets/img/suse-white-logo-green.svg"
      }
    }
  }</script>
<link rel="prev" href="atip-architecture.html" title="Chapter 39. Concept &amp; Architecture"/><link rel="next" href="atip-management-cluster.html" title="Chapter 41. Setting up the management cluster"/><script type="text/javascript">

if ( window.location.protocol.toLowerCase() != 'file:' ) {
  document.write('<link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"></link>');
};

</script><noscript><link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"/></noscript><script src="static/js/script-purejs.js" type="text/javascript"> </script><script src="static/js/highlight.min.js" type="text/javascript"> </script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script></head><body class="wide offline js-off"><div class="bypass-block"><a href="#_content">Jump to content</a><a href="#_bottom-pagination">Jump to page navigation: previous page [access key p]/next page [access key n]</a></div><header id="_mainnav"><div class="growth-inhibitor"><img src="static/images/logo.svg" alt="Logo" class="logo"/></div></header><div class="crumbs"><div class="growth-inhibitor"><a class="crumb" href="index.html">SUSE Edge Documentation</a><span> / </span><a class="crumb" href="id-suse-telco-cloud-documentation.html">SUSE Telco Cloud Documentation</a><span> / </span><a class="crumb" href="atip-requirements.html">Requirements &amp; Assumptions</a></div></div><main id="_content"><nav id="_side-toc-overall" class="side-toc"><div class="side-title">SUSE Edge Documentation</div><ol><li><a href="suse-edge-documentation.html" class=" "><span class="title-number"> </span><span class="title-name">SUSE Edge 3.4 Documentation</span></a></li><li><a href="id-quick-starts.html" class="has-children "><span class="title-number">I </span><span class="title-name">Quick Starts</span></a><ol><li><a href="quickstart-metal3.html" class=" "><span class="title-number">1 </span><span class="title-name">BMC automated deployments with Metal<sup>3</sup></span></a></li><li><a href="quickstart-elemental.html" class=" "><span class="title-number">2 </span><span class="title-name">Remote host onboarding with Elemental</span></a></li><li><a href="quickstart-eib.html" class=" "><span class="title-number">3 </span><span class="title-name">Standalone clusters with Edge Image Builder</span></a></li><li><a href="quickstart-suma.html" class=" "><span class="title-number">4 </span><span class="title-name">SUSE Multi-Linux Manager</span></a></li></ol></li><li><a href="id-components.html" class="has-children "><span class="title-number">II </span><span class="title-name">Components</span></a><ol><li><a href="components-rancher.html" class=" "><span class="title-number">5 </span><span class="title-name">Rancher</span></a></li><li><a href="components-rancher-dashboard-extensions.html" class=" "><span class="title-number">6 </span><span class="title-name">Rancher Dashboard Extensions</span></a></li><li><a href="components-rancher-turtles.html" class=" "><span class="title-number">7 </span><span class="title-name">Rancher Turtles</span></a></li><li><a href="components-fleet.html" class=" "><span class="title-number">8 </span><span class="title-name">Fleet</span></a></li><li><a href="components-slmicro.html" class=" "><span class="title-number">9 </span><span class="title-name">SUSE Linux Micro</span></a></li><li><a href="components-metal3.html" class=" "><span class="title-number">10 </span><span class="title-name">Metal<sup>3</sup></span></a></li><li><a href="components-eib.html" class=" "><span class="title-number">11 </span><span class="title-name">Edge Image Builder</span></a></li><li><a href="components-nmc.html" class=" "><span class="title-number">12 </span><span class="title-name">Edge Networking</span></a></li><li><a href="components-elemental.html" class=" "><span class="title-number">13 </span><span class="title-name">Elemental</span></a></li><li><a href="components-akri.html" class=" "><span class="title-number">14 </span><span class="title-name">Akri</span></a></li><li><a href="components-k3s.html" class=" "><span class="title-number">15 </span><span class="title-name">K3s</span></a></li><li><a href="components-rke2.html" class=" "><span class="title-number">16 </span><span class="title-name">RKE2</span></a></li><li><a href="components-suse-storage.html" class=" "><span class="title-number">17 </span><span class="title-name">SUSE Storage</span></a></li><li><a href="components-suse-security.html" class=" "><span class="title-number">18 </span><span class="title-name">SUSE Security</span></a></li><li><a href="components-metallb.html" class=" "><span class="title-number">19 </span><span class="title-name">MetalLB</span></a></li><li><a href="components-eco.html" class=" "><span class="title-number">20 </span><span class="title-name">Endpoint Copier Operator</span></a></li><li><a href="components-kubevirt.html" class=" "><span class="title-number">21 </span><span class="title-name">Edge Virtualization</span></a></li><li><a href="components-system-upgrade-controller.html" class=" "><span class="title-number">22 </span><span class="title-name">System Upgrade Controller</span></a></li><li><a href="components-upgrade-controller.html" class=" "><span class="title-number">23 </span><span class="title-name">Upgrade Controller</span></a></li><li><a href="components-suma.html" class=" "><span class="title-number">24 </span><span class="title-name">SUSE Multi-Linux Manager</span></a></li></ol></li><li><a href="id-how-to-guides.html" class="has-children "><span class="title-number">III </span><span class="title-name">How-To Guides</span></a><ol><li><a href="guides-metallb-k3s.html" class=" "><span class="title-number">25 </span><span class="title-name">MetalLB on K3s (using Layer 2 Mode)</span></a></li><li><a href="guides-metallb-k3s-l3.html" class=" "><span class="title-number">26 </span><span class="title-name">MetalLB on K3s (using Layer 3 Mode)</span></a></li><li><a href="guides-metallb-kubernetes.html" class=" "><span class="title-number">27 </span><span class="title-name">MetalLB in front of the Kubernetes API server</span></a></li><li><a href="id-air-gapped-deployments-with-edge-image-builder.html" class=" "><span class="title-number">28 </span><span class="title-name">Air-gapped deployments with Edge Image Builder</span></a></li><li><a href="guides-kiwi-builder-images.html" class=" "><span class="title-number">29 </span><span class="title-name">Building Updated SUSE Linux Micro Images with Kiwi</span></a></li><li><a href="guides-clusterclass-example.html" class=" "><span class="title-number">30 </span><span class="title-name">Using clusterclass to deploy downstream clusters</span></a></li></ol></li><li><a href="tips-and-tricks.html" class="has-children "><span class="title-number">IV </span><span class="title-name">Tips and Tricks</span></a><ol><li><a href="tips-edge-image-builder.html" class=" "><span class="title-number">31 </span><span class="title-name">Edge Image Builder</span></a></li><li><a href="tips-elemental.html" class=" "><span class="title-number">32 </span><span class="title-name">Elemental</span></a></li></ol></li><li><a href="id-third-party-integration.html" class="has-children "><span class="title-number">V </span><span class="title-name">Third-Party Integration</span></a><ol><li><a href="integrations-nats.html" class=" "><span class="title-number">33 </span><span class="title-name">NATS</span></a></li><li><a href="id-nvidia-gpus-on-suse-linux-micro.html" class=" "><span class="title-number">34 </span><span class="title-name">NVIDIA GPUs on SUSE Linux Micro</span></a></li></ol></li><li><a href="day-2-operations.html" class="has-children "><span class="title-number">VI </span><span class="title-name">Day 2 Operations</span></a><ol><li><a href="day2-migration.html" class=" "><span class="title-number">35 </span><span class="title-name">Edge 3.3 migration</span></a></li><li><a href="day2-mgmt-cluster.html" class=" "><span class="title-number">36 </span><span class="title-name">Management Cluster</span></a></li><li><a href="day2-downstream-clusters.html" class=" "><span class="title-number">37 </span><span class="title-name">Downstream clusters</span></a></li></ol></li><li class="active"><a href="id-suse-telco-cloud-documentation.html" class="has-children you-are-here"><span class="title-number">VII </span><span class="title-name">SUSE Telco Cloud Documentation</span></a><ol><li><a href="atip.html" class=" "><span class="title-number">38 </span><span class="title-name">SUSE Telco Cloud</span></a></li><li><a href="atip-architecture.html" class=" "><span class="title-number">39 </span><span class="title-name">Concept &amp; Architecture</span></a></li><li><a href="atip-requirements.html" class=" you-are-here"><span class="title-number">40 </span><span class="title-name">Requirements &amp; Assumptions</span></a></li><li><a href="atip-management-cluster.html" class=" "><span class="title-number">41 </span><span class="title-name">Setting up the management cluster</span></a></li><li><a href="atip-features.html" class=" "><span class="title-number">42 </span><span class="title-name">Telco features configuration</span></a></li><li><a href="atip-automated-provisioning.html" class=" "><span class="title-number">43 </span><span class="title-name">Fully automated directed network provisioning</span></a></li><li><a href="atip-lifecycle.html" class=" "><span class="title-number">44 </span><span class="title-name">Lifecycle actions</span></a></li></ol></li><li><a href="id-troubleshooting-3.html" class="has-children "><span class="title-number">VIII </span><span class="title-name">Troubleshooting</span></a><ol><li><a href="general-troubleshooting-principles.html" class=" "><span class="title-number">45 </span><span class="title-name">General Troubleshooting Principles</span></a></li><li><a href="troubleshooting-kiwi.html" class=" "><span class="title-number">46 </span><span class="title-name">Troubleshooting Kiwi</span></a></li><li><a href="troubleshooting-edge-image-builder.html" class=" "><span class="title-number">47 </span><span class="title-name">Troubleshooting Edge Image Builder (EIB)</span></a></li><li><a href="troubleshooting-edge-networking.html" class=" "><span class="title-number">48 </span><span class="title-name">Troubleshooting Edge Networking (NMC)</span></a></li><li><a href="troubleshooting-phone-home-scenarios.html" class=" "><span class="title-number">49 </span><span class="title-name">Troubleshooting Phone-Home scenarios</span></a></li><li><a href="troubleshooting-directed-network-provisioning.html" class=" "><span class="title-number">50 </span><span class="title-name">Troubleshooting Directed-network provisioning</span></a></li><li><a href="troubleshooting-other-components.html" class=" "><span class="title-number">51 </span><span class="title-name">Troubleshooting Other components</span></a></li><li><a href="collecting-diagnostics-for-support.html" class=" "><span class="title-number">52 </span><span class="title-name">Collecting Diagnostics for Support</span></a></li></ol></li><li><a href="id-appendix.html" class="has-children "><span class="title-number">IX </span><span class="title-name">Appendix</span></a><ol><li><a href="id-release-notes.html" class=" "><span class="title-number">53 </span><span class="title-name">Release Notes</span></a></li></ol></li> </ol> </nav><button id="_open-side-toc-overall" title="Contents"> </button><article class="documentation"><button id="_unfold-side-toc-page">On this page</button><section class="chapter" id="atip-requirements" data-id-title="Requirements Assumptions"><div class="titlepage"><div><div><div class="title-container"><h1 class="title"><span class="title-number-name"><span class="title-number">40 </span><span class="title-name">Requirements &amp; Assumptions</span></span> <a title="Permalink" class="permalink" href="atip-requirements.html#">#</a></h1><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><section class="sect1" id="id-hardware" data-id-title="Hardware"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">40.1 </span><span class="title-name">Hardware</span></span> <a title="Permalink" class="permalink" href="atip-requirements.html#id-hardware">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p>The hardware requirements for SUSE Telco Cloud are as follows:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p><span class="strong"><strong>Management cluster</strong></span>: The management cluster contains components like <code class="literal">SUSE Linux Micro</code>, <code class="literal">RKE2</code>, <code class="literal">SUSE Rancher Prime</code>, <code class="literal">Metal<sup>3</sup></code>, and it is used to manage several downstream clusters. Depending on the number of downstream clusters to be managed, the hardware requirements for the server could vary.</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>Minimum requirements for the server (<code class="literal">VM</code> or <code class="literal">bare-metal</code>) are:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>RAM: 8 GB Minimum (we recommend at least 16 GB)</p></li><li class="listitem"><p>CPU: 2 Minimum (we recommend at least 4 CPU)</p></li></ul></div></li></ul></div></li><li class="listitem"><p><span class="strong"><strong>Downstream clusters</strong></span>: The downstream clusters are the clusters deployed to run Telco workloads. Specific requirements are needed to enable certain Telco capabilities like <code class="literal">SR-IOV</code>, <code class="literal">CPU Performance Optimization</code>, etc.</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>SR-IOV: to attach VFs (Virtual Functions) in pass-through mode to CNFs/VNFs, the NIC must support SR-IOV and VT-d/AMD-Vi be enabled in the BIOS.</p></li><li class="listitem"><p>CPU Processors: To run specific Telco workloads, the CPU Processor model should be adapted to enable most of the features available in this reference table (<a class="xref" href="atip-features.html" title="Chapter 42. Telco features configuration">Chapter 42, <em>Telco features configuration</em></a>).</p></li><li class="listitem"><p>Firmware requirements for installing with virtual media:</p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="col_1"/><col class="col_2"/><col class="col_3"/></colgroup><thead><tr><th style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; ">Server Hardware</th><th style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; ">BMC Model</th><th style="text-align: left; vertical-align: top; border-bottom: 1px solid ; ">Management</th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; "><p>Dell hardware</p></td><td style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; "><p>15th Generation</p></td><td style="text-align: left; vertical-align: top; border-bottom: 1px solid ; "><p>iDRAC9</p></td></tr><tr><td style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; "><p>Supermicro hardware</p></td><td style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; "><p>01.00.25</p></td><td style="text-align: left; vertical-align: top; border-bottom: 1px solid ; "><p>Supermicro SMC - redfish</p></td></tr><tr><td style="text-align: left; vertical-align: top; border-right: 1px solid ; "><p>HPE hardware</p></td><td style="text-align: left; vertical-align: top; border-right: 1px solid ; "><p>1.50</p></td><td style="text-align: left; vertical-align: top; "><p>iLO6</p></td></tr></tbody></table></div></li></ul></div></li></ul></div></section><section class="sect1" id="id-network" data-id-title="Network"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">40.2 </span><span class="title-name">Network</span></span> <a title="Permalink" class="permalink" href="atip-requirements.html#id-network">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p>As a reference for the network architecture, the following diagram shows a typical network architecture for a Telco environment:</p><div class="informalfigure"><div class="mediaobject"><a href="images/product-atip-requirements1.svg"><img src="images/product-atip-requirements1.svg" width="100%" alt="product atip requirements1" title="product atip requirements1"/></a></div></div><p>The network architecture is based on the following components:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p><span class="strong"><strong>Management network</strong></span>: This network is used for the management of downstream cluster nodes. It is used for the out-of-band management. Usually, this network is also connected to a separate management switch, but it can be connected to the same service switch using VLANs to isolate the traffic.</p></li><li class="listitem"><p><span class="strong"><strong>Control-plane network</strong></span>: This network is used for the communication between the downstream cluster nodes and the services that are running on them. This network is also used for the communication between the nodes and the external services, like the <code class="literal">DHCP</code> or <code class="literal">DNS</code> servers. In some cases, for connected environments, the switch/router can handle traffic through the Internet.</p></li><li class="listitem"><p><span class="strong"><strong>Other networks</strong></span>: In some cases, nodes could be connected to other networks for specific purposes.</p></li></ul></div><div id="id-1.9.5.3.6" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note</div><p>To use the directed network provisioning workflow, the management cluster must have network connectivity to the downstream cluster server Baseboard Management Controller (BMC) so that host preparation and provisioning can be automated.</p></div></section><section class="sect1" id="id-port-requirements" data-id-title="Port requirements"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">40.3 </span><span class="title-name">Port requirements</span></span> <a title="Permalink" class="permalink" href="atip-requirements.html#id-port-requirements">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p>To operate properly, a SUSE Telco Cloud deployment requires a number of ports to be reachable on the management and the downstream Kubernetes cluster nodes.</p><div id="id-1.9.5.4.3" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note</div><p>The exact list depends on the deployed optional components and the selected deployment options (e.g., CNI plug-in).</p></div><section class="sect2" id="id-management-nodes" data-id-title="Management Nodes"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">40.3.1 </span><span class="title-name">Management Nodes</span></span> <a title="Permalink" class="permalink" href="atip-requirements.html#id-management-nodes">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p>The following table lists the opened ports in nodes running the management cluster:</p><div id="id-1.9.5.4.4.3" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note</div><p>For CNI plug-in related ports, see CNI specific port requirements (<a class="xref" href="atip-requirements.html#cni-specific-port-requirements" title="40.3.3. CNI specific port requirements">Section 40.3.3, “CNI specific port requirements”</a>).</p></div><div class="table" id="table-inbound-network-rules-for-management-nodes" data-id-title="Inbound Network Rules for Management Nodes"><div class="title-container"><div class="table-title-wrap"><div class="table-title"><span class="title-number-name"><span class="title-number">Table 40.1: </span><span class="title-name">Inbound Network Rules for Management Nodes </span></span><a title="Permalink" class="permalink" href="atip-requirements.html#table-inbound-network-rules-for-management-nodes">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div><div class="table-contents"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="col_1"/><col class="col_2"/><col class="col_3"/><col class="col_4"/></colgroup><thead><tr><th style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; ">Protocol</th><th style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; ">Port</th><th style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; ">Source</th><th style="text-align: left; vertical-align: top; border-bottom: 1px solid ; ">Description</th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; "><p>TCP</p></td><td style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; "><p>22</p></td><td style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; "><p>Any source that requires SSH access</p></td><td style="text-align: left; vertical-align: top; border-bottom: 1px solid ; "><p>SSH access to management cluster nodes</p></td></tr><tr><td style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; "><p>TCP</p></td><td style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; "><p>80</p></td><td style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; "><p>Load balancer/proxy that does external TLS termination</p></td><td style="text-align: left; vertical-align: top; border-bottom: 1px solid ; "><p>Rancher UI/API when external TLS termination is used</p></td></tr><tr><td style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; "><p>TCP</p></td><td style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; "><p>443</p></td><td style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; "><p>Any source that requires TLS access to Rancher UI/API</p></td><td style="text-align: left; vertical-align: top; border-bottom: 1px solid ; "><p>Rancher agent, Rancher UI/API</p></td></tr><tr><td style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; "><p>TCP</p></td><td style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; "><p>2379</p></td><td style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; "><p>RKE2 (management cluster) server nodes</p></td><td style="text-align: left; vertical-align: top; border-bottom: 1px solid ; "><p><code class="literal">etcd</code> client port</p></td></tr><tr><td style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; "><p>TCP</p></td><td style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; "><p>2380</p></td><td style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; "><p>RKE2 (management cluster) server nodes</p></td><td style="text-align: left; vertical-align: top; border-bottom: 1px solid ; "><p><code class="literal">etcd</code> peer port</p></td></tr><tr><td style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; "><p>TCP</p></td><td style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; "><p>6180</p></td><td style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; "><p>Any BMC<sup>(1)</sup> previously instructed by <code class="literal">Metal<sup>3</sup>/ironic</code> to pull an IPA<sup>(2)</sup> ramdisk image from this exposed port (non-TLS)</p></td><td style="text-align: left; vertical-align: top; border-bottom: 1px solid ; "><p><code class="literal">Ironic</code> httpd non-TLS web server serving IPA<sup>(2)</sup> ISO images for virtual media based boot <br/>
<br/>
 In case this port is enabled, the functionally equivalent but TLS-enabled one (see below) is not opened</p></td></tr><tr><td style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; "><p>TCP</p></td><td style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; "><p>6185</p></td><td style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; "><p>Any BMC<sup>(1)</sup> previously instructed by <code class="literal">Metal<sup>3</sup>/ironic</code> to pull an IPA<sup>(2)</sup> ramdisk image from this exposed port (TLS)</p></td><td style="text-align: left; vertical-align: top; border-bottom: 1px solid ; "><p><code class="literal">Ironic</code> httpd TLS-enabled web server serving IPA<sup>(2)</sup> ISO images for virtual media based boot<br/>
<br/>
 In case this port is enabled, the functionally equivalent but TLS-disabled one (see above) is not opened</p></td></tr><tr><td style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; "><p>TCP</p></td><td style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; "><p>6385</p></td><td style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; "><p>Any <code class="literal">Metal<sup>3</sup>/ironic</code> IPA<sup>(1)</sup> ramdisk image deployed &amp; running in an "enrolled" <code class="literal">BareMetalHost</code> instance</p></td><td style="text-align: left; vertical-align: top; border-bottom: 1px solid ; "><p>Ironic API</p></td></tr><tr><td style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; "><p>TCP</p></td><td style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; "><p>6443</p></td><td style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; "><p>Any management cluster node; any external (to the management cluster) Kubernetes client</p></td><td style="text-align: left; vertical-align: top; border-bottom: 1px solid ; "><p>Kubernetes API</p></td></tr><tr><td style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; "><p>TCP</p></td><td style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; "><p>6545</p></td><td style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; "><p>Any management cluster node</p></td><td style="text-align: left; vertical-align: top; border-bottom: 1px solid ; "><p>Pull artifacts from OCI-compliant registry (Hauler)</p></td></tr><tr><td style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; "><p>TCP</p></td><td style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; "><p>9345</p></td><td style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; "><p>RKE2 server and agent nodes (management cluster)</p></td><td style="text-align: left; vertical-align: top; border-bottom: 1px solid ; "><p>RKE2 supervisor API for Node registration (opened port in all RKE2 server nodes)</p></td></tr><tr><td style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; "><p>TCP</p></td><td style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; "><p>10250</p></td><td style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; "><p>Any management cluster node</p></td><td style="text-align: left; vertical-align: top; border-bottom: 1px solid ; "><p><code class="literal">kubelet</code> metrics</p></td></tr><tr><td style="text-align: left; vertical-align: top; border-right: 1px solid ; "><p>TCP/UDP/SCTP</p></td><td style="text-align: left; vertical-align: top; border-right: 1px solid ; "><p>30000-32767</p></td><td style="text-align: left; vertical-align: top; border-right: 1px solid ; "><p>Any external (to the management cluster) source accessing a service exposed on the primary network through a <code class="literal">spec.type: NodePort</code> or <code class="literal">spec.type: LoadBalancer</code> <a class="link" href="https://kubernetes.io/docs/concepts/services-networking/service/#publishing-services-service-types" target="_blank">Service API object</a></p></td><td style="text-align: left; vertical-align: top; "><p>Available <code class="literal">NodePort</code> port range</p></td></tr></tbody></table></div></div><p><sup>(1)</sup> BMC: Baseboard Management Controller<br/>
<sup>(2)</sup> IPA: Ironic Python Agent</p></section><section class="sect2" id="id-downstream-nodes" data-id-title="Downstream Nodes"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">40.3.2 </span><span class="title-name">Downstream Nodes</span></span> <a title="Permalink" class="permalink" href="atip-requirements.html#id-downstream-nodes">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p>In SUSE Telco Cloud, before any (downstream) server becomes part of a running downstream Kubernetes cluster (or runs itself a single-node downstream Kubernetes cluster), it is required to go through some of the <a class="link" href="https://github.com/metal3-io/baremetal-operator/blob/main/docs/baremetalhost-states.md" target="_blank">BaremetalHost Provisioning states</a>.</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>The Baseboard Management Controller (BMC) for a just declared downstream server must be accessible through the out-of-band network. BMC is instructed (from the ironic service running on the management cluster) on the initial steps to take:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Pull and load the indicated IPA ramdisk image in the BMC offered <code class="literal">virtual media</code>.</p></li><li class="listitem"><p>Power-on the server.</p></li></ol></div></li></ul></div><p>Following ports are expected to be exposed from the BMC (they could differ depending on the exact hardware):</p><div class="table" id="table-inbound-network-rules-for-baseboard-management-controllers" data-id-title="Inbound Network Rules for Baseboard Management Controllers"><div class="title-container"><div class="table-title-wrap"><div class="table-title"><span class="title-number-name"><span class="title-number">Table 40.2: </span><span class="title-name">Inbound Network Rules for Baseboard Management Controllers </span></span><a title="Permalink" class="permalink" href="atip-requirements.html#table-inbound-network-rules-for-baseboard-management-controllers">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div><div class="table-contents"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="col_1"/><col class="col_2"/><col class="col_3"/><col class="col_4"/></colgroup><thead><tr><th style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; ">Protocol</th><th style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; ">Port</th><th style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; ">Source</th><th style="text-align: left; vertical-align: top; border-bottom: 1px solid ; ">Description</th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; "><p>TCP</p></td><td style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; "><p>80</p></td><td style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; "><p>Ironic conductor (from management cluster)</p></td><td style="text-align: left; vertical-align: top; border-bottom: 1px solid ; "><p>Redfish API access (HTTP)</p></td></tr><tr><td style="text-align: left; vertical-align: top; border-right: 1px solid ; "><p>TCP</p></td><td style="text-align: left; vertical-align: top; border-right: 1px solid ; "><p>443</p></td><td style="text-align: left; vertical-align: top; border-right: 1px solid ; "><p>Ironic conductor (from management cluster)</p></td><td style="text-align: left; vertical-align: top; "><p>Redfish API access (HTTPS)</p></td></tr></tbody></table></div></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>Once the IPA ramdisk image loaded on the BMC <code class="literal">virtual media</code> is used to bootup the downstream server image, the hardware inspection phase begins. The following table lists the ports exposed by a running IPA ramdisk image:</p></li></ul></div><div class="table" id="table-inbound-network-rules-for-downstream-nodes-provisioning-phase" data-id-title="Inbound Network Rules for Downstream Nodes - Metal3/Ironic Provisioning phase"><div class="title-container"><div class="table-title-wrap"><div class="table-title"><span class="title-number-name"><span class="title-number">Table 40.3: </span><span class="title-name">Inbound Network Rules for Downstream Nodes - <code class="literal">Metal<sup>3</sup>/Ironic</code> Provisioning phase </span></span><a title="Permalink" class="permalink" href="atip-requirements.html#table-inbound-network-rules-for-downstream-nodes-provisioning-phase">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div><div class="table-contents"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="col_1"/><col class="col_2"/><col class="col_3"/><col class="col_4"/></colgroup><thead><tr><th style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; ">Protocol</th><th style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; ">Port</th><th style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; ">Source</th><th style="text-align: left; vertical-align: top; border-bottom: 1px solid ; ">Description</th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; "><p>TCP</p></td><td style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; "><p>22</p></td><td style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; "><p>Any source that requires SSH access to IPA ramdisk image</p></td><td style="text-align: left; vertical-align: top; border-bottom: 1px solid ; "><p>SSH access to a being inspected downstream cluster node</p></td></tr><tr><td style="text-align: left; vertical-align: top; border-right: 1px solid ; "><p>TCP</p></td><td style="text-align: left; vertical-align: top; border-right: 1px solid ; "><p>9999</p></td><td style="text-align: left; vertical-align: top; border-right: 1px solid ; "><p>Ironic conductor (from management cluster)</p></td><td style="text-align: left; vertical-align: top; "><p>Ironic commands towards the running ramdisk image</p></td></tr></tbody></table></div></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>Once the baremetal host is properly provisioned and has joined a downstream Kubernetes cluster, it exposes the following ports:</p></li></ul></div><div id="id-1.9.5.4.5.9" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note</div><p>For CNI plug-in related ports, see CNI specific port requirements (<a class="xref" href="atip-requirements.html#cni-specific-port-requirements" title="40.3.3. CNI specific port requirements">Section 40.3.3, “CNI specific port requirements”</a>).</p></div><div class="table" id="table-inbound-network-rules-for-downstream-nodes" data-id-title="Inbound Network Rules for Downstream Nodes"><div class="title-container"><div class="table-title-wrap"><div class="table-title"><span class="title-number-name"><span class="title-number">Table 40.4: </span><span class="title-name">Inbound Network Rules for Downstream Nodes </span></span><a title="Permalink" class="permalink" href="atip-requirements.html#table-inbound-network-rules-for-downstream-nodes">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div><div class="table-contents"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="col_1"/><col class="col_2"/><col class="col_3"/><col class="col_4"/></colgroup><thead><tr><th style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; ">Protocol</th><th style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; ">Port</th><th style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; ">Source</th><th style="text-align: left; vertical-align: top; border-bottom: 1px solid ; ">Description</th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; "><p>TCP</p></td><td style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; "><p>22</p></td><td style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; "><p>Any source that requires SSH access</p></td><td style="text-align: left; vertical-align: top; border-bottom: 1px solid ; "><p>SSH access to downstream cluster nodes</p></td></tr><tr><td style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; "><p>TCP</p></td><td style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; "><p>80</p></td><td style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; "><p>Load balancer/proxy that does external TLS termination</p></td><td style="text-align: left; vertical-align: top; border-bottom: 1px solid ; "><p>Rancher UI/API when external TLS termination is used</p></td></tr><tr><td style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; "><p>TCP</p></td><td style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; "><p>443</p></td><td style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; "><p>Any source that requires TLS access to Rancher UI/API</p></td><td style="text-align: left; vertical-align: top; border-bottom: 1px solid ; "><p>Rancher agent, Rancher UI/API</p></td></tr><tr><td style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; "><p>TCP</p></td><td style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; "><p>2379</p></td><td style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; "><p>RKE2 (downstream cluster) server nodes</p></td><td style="text-align: left; vertical-align: top; border-bottom: 1px solid ; "><p><code class="literal">etcd</code> client port</p></td></tr><tr><td style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; "><p>TCP</p></td><td style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; "><p>2380</p></td><td style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; "><p>RKE2 (downstream cluster) server nodes</p></td><td style="text-align: left; vertical-align: top; border-bottom: 1px solid ; "><p><code class="literal">etcd</code> peer port</p></td></tr><tr><td style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; "><p>TCP</p></td><td style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; "><p>6443</p></td><td style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; "><p>Any downstream cluster node; any external (to the downstream cluster) Kubernetes client.</p></td><td style="text-align: left; vertical-align: top; border-bottom: 1px solid ; "><p>Kubernetes API</p></td></tr><tr><td style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; "><p>TCP</p></td><td style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; "><p>9345</p></td><td style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; "><p>RKE2 server and agent nodes (downstream cluster)</p></td><td style="text-align: left; vertical-align: top; border-bottom: 1px solid ; "><p>RKE2 supervisor API for Node registration (opened port in all RKE2 server nodes)</p></td></tr><tr><td style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; "><p>TCP</p></td><td style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; "><p>10250</p></td><td style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; "><p>Any downstream cluster node</p></td><td style="text-align: left; vertical-align: top; border-bottom: 1px solid ; "><p><code class="literal">kubelet</code> metrics</p></td></tr><tr><td style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; "><p>TCP</p></td><td style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; "><p>10255</p></td><td style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; "><p>Any downstream cluster node</p></td><td style="text-align: left; vertical-align: top; border-bottom: 1px solid ; "><p><code class="literal">kubelet</code> read-only access</p></td></tr><tr><td style="text-align: left; vertical-align: top; border-right: 1px solid ; "><p>TCP/UDP/SCTP</p></td><td style="text-align: left; vertical-align: top; border-right: 1px solid ; "><p>30000-32767</p></td><td style="text-align: left; vertical-align: top; border-right: 1px solid ; "><p>Any external (to the downstream cluster) source accessing a service exposed on the primary network through a <code class="literal">spec.type: NodePort</code> or <code class="literal">spec.type: LoadBalancer</code> <a class="link" href="https://kubernetes.io/docs/concepts/services-networking/service/#publishing-services-service-types" target="_blank">Service API object</a></p></td><td style="text-align: left; vertical-align: top; "><p>Available <code class="literal">NodePort</code> port range</p></td></tr></tbody></table></div></div></section><section class="sect2" id="cni-specific-port-requirements" data-id-title="CNI specific port requirements"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">40.3.3 </span><span class="title-name">CNI specific port requirements</span></span> <a title="Permalink" class="permalink" href="atip-requirements.html#cni-specific-port-requirements">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p>Each supported CNI variant comes with its own set of port requirements. For more details, refer <a class="link" href="https://docs.rke2.io/install/requirements#cni-specific-inbound-network-rules" target="_blank">CNI Specific Inbound Network Rules</a> in RKE2 documentation.</p><p>When <code class="literal">cilium</code> is set as default/primary CNI plug-in, following TCP port is additionally exposed when the <code class="literal">cilium-operator</code> workload is configured to expose metrics outside the Kubernetes cluster on which it is deployed. This ensures that an external <code class="literal">Prometheus</code> server instance running outside that Kubernetes cluster can still collect these metrics.</p><div id="id-1.9.5.4.6.4" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note</div><p>This is the default option when deploying <code class="literal">cilium</code> via the rke2-cilium Helm chart.</p></div><div class="table" id="table-inbound-network-rules-for-management-downstream-nodes-external-metrics-cilium-operator" data-id-title="Inbound Network Rules for Management/Downstream Nodes - external metrics exposure from cilium-operator enabled"><div class="title-container"><div class="table-title-wrap"><div class="table-title"><span class="title-number-name"><span class="title-number">Table 40.5: </span><span class="title-name">Inbound Network Rules for Management/Downstream Nodes - external metrics exposure from <code class="literal">cilium-operator</code> enabled </span></span><a title="Permalink" class="permalink" href="atip-requirements.html#table-inbound-network-rules-for-management-downstream-nodes-external-metrics-cilium-operator">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div><div class="table-contents"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="col_1"/><col class="col_2"/><col class="col_3"/><col class="col_4"/></colgroup><thead><tr><th style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; ">Protocol</th><th style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; ">Port</th><th style="text-align: left; vertical-align: top; border-right: 1px solid ; border-bottom: 1px solid ; ">Source</th><th style="text-align: left; vertical-align: top; border-bottom: 1px solid ; ">Description</th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; border-right: 1px solid ; "><p>TCP</p></td><td style="text-align: left; vertical-align: top; border-right: 1px solid ; "><p>9963</p></td><td style="text-align: left; vertical-align: top; border-right: 1px solid ; "><p>External (to the Kubernetes cluster) metrics collector</p></td><td style="text-align: left; vertical-align: top; "><p>cilium-operator metrics exposure</p></td></tr></tbody></table></div></div></section></section><section class="sect1" id="id-services-dhcp-dns-etc" data-id-title="Services (DHCP, DNS, etc.)"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">40.4 </span><span class="title-name">Services (DHCP, DNS, etc.)</span></span> <a title="Permalink" class="permalink" href="atip-requirements.html#id-services-dhcp-dns-etc">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p>Some external services like <code class="literal">DHCP</code>, <code class="literal">DNS</code>, etc. could be required depending on the kind of environment where they are deployed:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p><span class="strong"><strong>Connected environment</strong></span>: In this case, the nodes will be connected to the Internet (via routing L3 protocols) and the external services will be provided by the customer.</p></li><li class="listitem"><p><span class="strong"><strong>Disconnected / air-gap environment</strong></span>: In this case, the nodes will not have Internet IP connectivity and additional services will be required to locally mirror content required by the directed network provisioning workflow.</p></li><li class="listitem"><p><span class="strong"><strong>File server</strong></span>: A file server is used to store the OS images to be provisioned on the downstream cluster nodes during the directed network provisioning workflow. The <code class="literal">Metal<sup>3</sup></code> Helm chart can deploy a media server to store the OS images — check the following section (<a class="xref" href="atip-management-cluster.html#metal3-media-server" title="Note">Note</a>), but it is also possible to use an existing local webserver.</p></li></ul></div></section><section class="sect1" id="id-disabling-systemd-services" data-id-title="Disabling systemd services"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">40.5 </span><span class="title-name">Disabling systemd services</span></span> <a title="Permalink" class="permalink" href="atip-requirements.html#id-disabling-systemd-services">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p>For Telco workloads, it is important to disable or configure properly some of the services running on the nodes to avoid any impact on the workload performance running on the nodes (latency).</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p><code class="literal">rebootmgr</code> is a service which allows to configure a strategy for reboot when the system has pending updates.
For Telco workloads, it is really important to disable or configure properly the <code class="literal">rebootmgr</code> service to avoid the reboot of the nodes in case of updates scheduled by the system, to avoid any impact on the services running on the nodes.</p></li></ul></div><div id="id-1.9.5.6.4" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note</div><p>For more information about <code class="literal">rebootmgr</code>, see <a class="link" href="https://github.com/SUSE/rebootmgr" target="_blank">rebootmgr GitHub repository</a>.</p></div><p>Verify the strategy being used by running:</p><div class="verbatim-wrap"><pre class="screen">cat /etc/rebootmgr.conf
[rebootmgr]
window-start=03:30
window-duration=1h30m
strategy=best-effort
lock-group=default</pre></div><p>and you could disable it by running:</p><div class="verbatim-wrap"><pre class="screen">sed -i 's/strategy=best-effort/strategy=off/g' /etc/rebootmgr.conf</pre></div><p>or using the <code class="literal">rebootmgrctl</code> command:</p><div class="verbatim-wrap"><pre class="screen">rebootmgrctl strategy off</pre></div><div id="id-1.9.5.6.11" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note</div><p>This configuration to set the <code class="literal">rebootmgr</code> strategy can be automated using the directed network provisioning workflow. For more information, check the Automated Provisioning documentation (<a class="xref" href="atip-automated-provisioning.html" title="Chapter 43. Fully automated directed network provisioning">Chapter 43, <em>Fully automated directed network provisioning</em></a>).</p></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p><code class="literal">transactional-update</code> is a service that allows automatic updates controlled by the system. For Telco workloads, it is important to disable the automatic updates to avoid any impact on the services running on the nodes.</p></li></ul></div><p>To disable the automatic updates, you can run:</p><div class="verbatim-wrap"><pre class="screen">systemctl --now disable transactional-update.timer
systemctl --now disable transactional-update-cleanup.timer</pre></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p><code class="literal">fstrim</code> is a service that allows to trim the filesystems automatically every week. For Telco workloads, it is important to disable the automatic trim to avoid any impact on the services running on the nodes.</p></li></ul></div><p>To disable the automatic trim, you can run:</p><div class="verbatim-wrap"><pre class="screen">systemctl --now disable fstrim.timer</pre></div></section></section><nav class="bottom-pagination"><div><a class="pagination-link prev" href="atip-architecture.html"><span class="pagination-relation">Previous</span><span class="pagination-label"><span class="title-number">Chapter 39 </span>Concept &amp; Architecture</span></a> </div><div><a class="pagination-link next" href="atip-management-cluster.html"><span class="pagination-relation">Next</span><span class="pagination-label"><span class="title-number">Chapter 41 </span>Setting up the management cluster</span></a> </div></nav></article><aside id="_side-toc-page" class="side-toc"><div class="side-title">On this page</div><div class="toc"><ul><li><span class="section"><a href="atip-requirements.html#id-hardware"><span class="title-number">40.1 </span><span class="title-name">Hardware</span></a></span></li><li><span class="section"><a href="atip-requirements.html#id-network"><span class="title-number">40.2 </span><span class="title-name">Network</span></a></span></li><li><span class="section"><a href="atip-requirements.html#id-port-requirements"><span class="title-number">40.3 </span><span class="title-name">Port requirements</span></a></span></li><li><span class="section"><a href="atip-requirements.html#id-services-dhcp-dns-etc"><span class="title-number">40.4 </span><span class="title-name">Services (DHCP, DNS, etc.)</span></a></span></li><li><span class="section"><a href="atip-requirements.html#id-disabling-systemd-services"><span class="title-number">40.5 </span><span class="title-name">Disabling systemd services</span></a></span></li></ul></div><div class="side-title">Share this page</div><ul class="share"><li><a id="_share-fb" href="#" title="Facebook"> </a></li><li><a id="_share-in" href="#" title="LinkedIn"> </a></li><li><a id="_share-tw" href="#" title="Twitter/X"> </a></li><li><a id="_share-mail" href="#" title="E-Mail"> </a></li><li><a id="_print-button" href="#" title="Print this page"> </a></li></ul> </aside></main><footer id="_footer"><div class="growth-inhibitor"><div class="copy"><span class="copy__rights">© SUSE
                 2025</span></div></div></footer></body></html>