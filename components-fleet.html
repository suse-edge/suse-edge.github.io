<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><title>SUSE Edge Documentation | Fleet</title><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes"/><link rel="stylesheet" type="text/css" href="static/css/style.css"/>
<link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"/><link rel="schema.DCTERMS" href="http://purl.org/dc/terms/"/>
<meta name="title" content="Fleet"/>
<meta name="description" content="Fleet is a container management and deployment engine designed to offer users more control on the local cluster and constant monitoring through GitOp…"/>
<meta name="book-title" content="SUSE Edge Documentation"/>
<meta name="chapter-title" content="Chapter 5. Fleet"/>
<meta name="tracker-url" content="https://github.com/suse-edge/suse-edge.github.io/issues/new"/>
<meta name="tracker-type" content="gh"/>
<meta name="publisher" content="SUSE"/><meta property="og:title" content="Fleet"/>
<meta property="og:description" content="Fleet is a container management and deployment engine desig…"/>
<meta property="og:type" content="article"/>
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Fleet"/>
<meta name="twitter:description" content="Fleet is a container management and deployment engine desig…"/>
<script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": ["TechArticle"],
    "image": "https://www.suse.com/assets/img/suse-white-logo-green.svg",
    
    "inLanguage": "en",
    

    "headline": "Fleet",
  
    "description": "Fleet",
      
    "author": [
      {
        "@type": "Corporation",
        "name": "SUSE Product &amp; Solution Documentation Team",
        "url": "https://www.suse.com/assets/img/suse-white-logo-green.svg"
      }
    ],
      
    "dateModified": "2024-04-05T00:00+02:00",
      

    "about": [
      
    ],
  
    "sameAs": [
          "https://www.facebook.com/SUSEWorldwide/about",
          "https://www.youtube.com/channel/UCHTfqIzPKz4f_dri36lAQGA",
          "https://twitter.com/SUSE",
          "https://www.linkedin.com/company/suse"
    ],
    "publisher": {
      "@type": "Corporation",
      "name": "SUSE",
      "url": "https://documentation.suse.com",
      "logo": {
        "@type": "ImageObject",
        "url": "https://www.suse.com/assets/img/suse-white-logo-green.svg"
      }
    }
  }</script>
<link rel="prev" href="components-rancher.html" title="Chapter 4. Rancher"/><link rel="next" href="components-slmicro.html" title="Chapter 6. SLE Micro"/><script type="text/javascript">

if ( window.location.protocol.toLowerCase() != 'file:' ) {
  document.write('<link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"></link>');
};

</script><noscript><link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"/></noscript><script src="static/js/script-purejs.js" type="text/javascript"> </script><script src="static/js/highlight.min.js" type="text/javascript"> </script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script></head><body class="wide offline js-off"><div class="bypass-block"><a href="#_content">Jump to content</a><a href="#_bottom-pagination">Jump to page navigation: previous page [access key p]/next page [access key n]</a></div><header id="_mainnav"><div class="growth-inhibitor"><img src="static/images/logo.svg" alt="Logo" class="logo"/></div></header><div class="crumbs"><div class="growth-inhibitor"><a class="crumb" href="index.html">SUSE Edge Documentation</a><span> / </span><a class="crumb" href="id-components-used-2.html">Components Used</a><span> / </span><a class="crumb" href="components-fleet.html">Fleet</a></div></div><main id="_content"><nav id="_side-toc-overall" class="side-toc"><div class="side-title">SUSE Edge Documentation</div><ol><li><a href="id-suse-edge-documentation.html" class=" "><span class="title-number"> </span><span class="title-name">SUSE Edge Documentation</span></a></li><li><a href="id-quickstarts.html" class="has-children "><span class="title-number">I </span><span class="title-name">Quickstarts</span></a><ol><li><a href="quickstart-metal3.html" class=" "><span class="title-number">1 </span><span class="title-name">BMC automated deployments with Metal<sup>3</sup></span></a></li><li><a href="quickstart-elemental.html" class=" "><span class="title-number">2 </span><span class="title-name">Remote host onboarding with Elemental</span></a></li><li><a href="quickstart-eib.html" class=" "><span class="title-number">3 </span><span class="title-name">Standalone Clusters with Edge Image Builder</span></a></li></ol></li><li class="active"><a href="id-components-used-2.html" class="has-children you-are-here"><span class="title-number">II </span><span class="title-name">Components Used</span></a><ol><li><a href="components-rancher.html" class=" "><span class="title-number">4 </span><span class="title-name">Rancher</span></a></li><li><a href="components-fleet.html" class=" you-are-here"><span class="title-number">5 </span><span class="title-name">Fleet</span></a></li><li><a href="components-slmicro.html" class=" "><span class="title-number">6 </span><span class="title-name">SLE Micro</span></a></li><li><a href="components-metal3.html" class=" "><span class="title-number">7 </span><span class="title-name">Metal³</span></a></li><li><a href="components-eib.html" class=" "><span class="title-number">8 </span><span class="title-name">Edge Image Builder</span></a></li><li><a href="components-elemental.html" class=" "><span class="title-number">9 </span><span class="title-name">Elemental</span></a></li><li><a href="components-k3s.html" class=" "><span class="title-number">10 </span><span class="title-name">K3s</span></a></li><li><a href="components-rke2.html" class=" "><span class="title-number">11 </span><span class="title-name">RKE2</span></a></li><li><a href="components-longhorn.html" class=" "><span class="title-number">12 </span><span class="title-name">Longhorn</span></a></li><li><a href="components-neuvector.html" class=" "><span class="title-number">13 </span><span class="title-name">NeuVector</span></a></li><li><a href="components-metallb.html" class=" "><span class="title-number">14 </span><span class="title-name">MetalLB</span></a></li><li><a href="components-kubevirt.html" class=" "><span class="title-number">15 </span><span class="title-name">Edge Virtualization</span></a></li></ol></li><li><a href="id-how-to-guides.html" class="has-children "><span class="title-number">III </span><span class="title-name">How To Guides</span></a><ol><li><a href="guides-metallb-k3s.html" class=" "><span class="title-number">16 </span><span class="title-name">MetalLB on K3s (using L2)</span></a></li><li><a href="guides-metallb-kubernetes.html" class=" "><span class="title-number">17 </span><span class="title-name">MetalLB in front of the Kubernetes API server</span></a></li></ol></li><li><a href="id-third-party-integration.html" class="has-children "><span class="title-number">IV </span><span class="title-name">Third Party Integration</span></a><ol><li><a href="integrations-linkert.html" class=" "><span class="title-number">18 </span><span class="title-name">Using the Linkerd Service Mesh</span></a></li><li><a href="integrations-nats.html" class=" "><span class="title-number">19 </span><span class="title-name">NATS</span></a></li><li><a href="id-nvidia-gpus-on-sle-micro.html" class=" "><span class="title-number">20 </span><span class="title-name">NVIDIA GPU’s on SLE Micro</span></a></li></ol></li><li><a href="id-product-documentation.html" class="has-children "><span class="title-number">V </span><span class="title-name">Product Documentation</span></a><ol><li><a href="atip.html" class=" "><span class="title-number">21 </span><span class="title-name">SUSE Adaptive Telco Infrastructure Platform (ATIP)</span></a></li><li><a href="atip-architecture.html" class=" "><span class="title-number">22 </span><span class="title-name">Concept &amp; Architecture</span></a></li><li><a href="atip-requirements.html" class=" "><span class="title-number">23 </span><span class="title-name">Requirements &amp; Assumptions</span></a></li><li><a href="atip-management-cluster.html" class=" "><span class="title-number">24 </span><span class="title-name">Setting up the Management Cluster</span></a></li><li><a href="atip-features.html" class=" "><span class="title-number">25 </span><span class="title-name">Telco Features Configuration</span></a></li><li><a href="atip-automated-provisioning.html" class=" "><span class="title-number">26 </span><span class="title-name">Automated Provisioning with ZTP</span></a></li><li><a href="atip-lifecycle.html" class=" "><span class="title-number">27 </span><span class="title-name">Lifecycle Actions</span></a></li></ol></li><li><a href="id-appendix.html" class="has-children "><span class="title-number">A </span><span class="title-name">Appendix</span></a><ol><li><a href="id-appendix.html#id-terminology" class=" "><span class="title-number"> </span><span class="title-name">Terminology</span></a></li></ol></li> </ol> </nav><button id="_open-side-toc-overall" title="Contents"> </button><article class="documentation"><button id="_unfold-side-toc-page">On this page</button><section class="chapter" id="components-fleet" data-id-title="Fleet"><div class="titlepage"><div><div><div class="title-container"><h1 class="title"><span class="title-number-name"><span class="title-number">5 </span><span class="title-name">Fleet</span></span> <a title="Permalink" class="permalink" href="components-fleet.html#">#</a></h1><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p><a class="link" href="https://fleet.rancher.io" target="_blank">Fleet</a> is a container management and deployment engine designed to offer users more control on the local cluster and constant monitoring through GitOps. Fleet focuses not only on the ability to scale, but it also gives users a high degree of control and visibility to monitor exactly what is installed on the cluster.</p><p>Fleet can manage deployments from git of raw Kubernetes YAML, Helm charts, Kustomize, or any combination of the three. Regardless of the source, all resources are dynamically turned into Helm charts, and Helm is used as the engine to deploy all resources in the cluster. As a result, users can enjoy a high degree of control, consistency, and auditability of their clusters.</p><p>For information about how Fleet works, see <a class="link" href="https://ranchermanager.docs.rancher.com/integrations-in-rancher/fleet/architecture" target="_blank">this page</a>.</p><section class="sect1" id="id-installing-fleet-with-helm" data-id-title="Installing Fleet with Helm"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">5.1 </span><span class="title-name">Installing Fleet with Helm</span></span> <a title="Permalink" class="permalink" href="components-fleet.html#id-installing-fleet-with-helm">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p>Fleet comes built in to Rancher but it can be also <a class="link" href="https://fleet.rancher.io/installation" target="_blank">installed</a> as a standalone application on any Kubernetes cluster using Helm.</p></section><section class="sect1" id="id-using-fleet-with-rancher" data-id-title="Using Fleet with Rancher"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">5.2 </span><span class="title-name">Using Fleet with Rancher</span></span> <a title="Permalink" class="permalink" href="components-fleet.html#id-using-fleet-with-rancher">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p>Rancher uses Fleet to deploy applications across managed clusters. Continuous delivery with Fleet introduces GitOps at scale, designed to manage applications running on large numbers of clusters.</p><p>Fleet shines as integrated part of Rancher. Clusters managed with Rancher automatically get the Fleet agent deployed as part of the installation/import process and the cluster is immediately available to be managed by Fleet.</p></section><section class="sect1" id="id-accessing-fleet-in-the-rancher-ui" data-id-title="Accessing Fleet in the Rancher UI"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">5.3 </span><span class="title-name">Accessing Fleet in the Rancher UI</span></span> <a title="Permalink" class="permalink" href="components-fleet.html#id-accessing-fleet-in-the-rancher-ui">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p>Fleet comes preinstalled in Rancher and is managed by the <span class="strong"><strong>Continous Delivery</strong></span> option in the Rancher UI. For additional information on Continuous Delivery and other Fleet troubleshooting tips, refer <a class="link" href="https://fleet.rancher.io/troubleshooting" target="_blank">here</a>.</p><div class="informalfigure"><div class="mediaobject"><a href="images/fleet-dashboard.png"><img src="images/fleet-dashboard.png" width="NaN" alt="fleet dashboard" title="fleet dashboard"/></a></div></div><p>Continuous Delivery section consists of following items:</p><section class="sect2" id="id-dashboard" data-id-title="Dashboard"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">5.3.1 </span><span class="title-name">Dashboard</span></span> <a title="Permalink" class="permalink" href="components-fleet.html#id-dashboard">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p>An overview page of all GitOps repositories across all workspaces. Only the workspaces with repositories are displayed.</p></section><section class="sect2" id="id-git-repos" data-id-title="Git Repos"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">5.3.2 </span><span class="title-name">Git Repos</span></span> <a title="Permalink" class="permalink" href="components-fleet.html#id-git-repos">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p>A list of GitOps repositories in the selected workspace. You can select the active workspace using the dropdown at the top of the page.</p></section><section class="sect2" id="id-clusters" data-id-title="Clusters"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">5.3.3 </span><span class="title-name">Clusters</span></span> <a title="Permalink" class="permalink" href="components-fleet.html#id-clusters">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p>A list of managed clusters. By default all Rancher managed clusters are added to the <code class="literal">fleet-default</code> workspace. <code class="literal">fleet-local</code> workspace includes the local (management) cluster. From here it is possible to <code class="literal">Pause</code> or <code class="literal">Force update</code> the clusters or move the cluster into another workspace. Editting the cluster allows to update labels and annotations used for grouping the clusters.</p></section><section class="sect2" id="id-cluster-groups" data-id-title="Cluster Groups"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">5.3.4 </span><span class="title-name">Cluster Groups</span></span> <a title="Permalink" class="permalink" href="components-fleet.html#id-cluster-groups">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p>This section allows custom grouping of the clusters within the workspace using selectors.</p></section><section class="sect2" id="id-advanced" data-id-title="Advanced"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">5.3.5 </span><span class="title-name">Advanced</span></span> <a title="Permalink" class="permalink" href="components-fleet.html#id-advanced">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p>Advanced section allows to manage workspaces and other related Fleet resources.</p></section></section><section class="sect1" id="id-example-of-installing-kubevirt-with-rancher-and-fleet-using-rancher-dashboard" data-id-title="Example of installing KubeVirt with Rancher and Fleet using Rancher Dashboard"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">5.4 </span><span class="title-name">Example of installing KubeVirt with Rancher and Fleet using Rancher Dashboard</span></span> <a title="Permalink" class="permalink" href="components-fleet.html#id-example-of-installing-kubevirt-with-rancher-and-fleet-using-rancher-dashboard">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Create a git repository containing the <code class="literal">fleet.yaml</code> file:</p><div class="verbatim-wrap highlight yaml"><pre class="screen">defaultNamespace: kubevirt
helm:
  chart: "kubevirt"
  repo: "https://suse-edge.github.io/charts"
  version: "0.2.3"
  # kubevirt namespace is created by kubevirt as well, we need to take ownership of it
  takeOwnership: true</pre></div></li><li class="listitem"><p>In the Rancher dashboard navigate to <span class="strong"><strong>☰ &gt; Continuous Delivery &gt; Git Repos</strong></span> and click <code class="literal">Add Repository</code></p></li><li class="listitem"><p>The Repository creation wizard guides throug creation of the Git Repo. Provide <span class="strong"><strong>Name</strong></span>, <span class="strong"><strong>Repository URL</strong></span> (referencing the git repository created in previous step) and select apropriate branch or a revision. In case of more complex repository it is possible to specify <span class="strong"><strong>Paths</strong></span> to utilise multiple directories in a single repository.</p><div class="informalfigure"><div class="mediaobject"><a href="images/fleet-create-repo1.png"><img src="images/fleet-create-repo1.png" width="NaN" alt="fleet create repo1" title="fleet create repo1"/></a></div></div></li><li class="listitem"><p>Click <code class="literal">Next</code></p></li><li class="listitem"><p>In the next step, you can define where the workloads will get deployed. Basic options are all clusters, no clusters, directly select one of the managed clusters or cluster group if one is defined. Advanced option allows to directly edit the selectors via YAML.</p><div class="informalfigure"><div class="mediaobject"><a href="images/fleet-create-repo2.png"><img src="images/fleet-create-repo2.png" width="NaN" alt="fleet create repo2" title="fleet create repo2"/></a></div></div></li><li class="listitem"><p>Click <code class="literal">Create</code>. The repository gets created. From now on the workloads are installed and kept in sync on the clusters matching the repository definition.</p></li></ol></div></section><section class="sect1" id="id-debugging-and-troubleshooting" data-id-title="Debugging and troubleshooting"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">5.5 </span><span class="title-name">Debugging and troubleshooting</span></span> <a title="Permalink" class="permalink" href="components-fleet.html#id-debugging-and-troubleshooting">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p>The <span class="strong"><strong>Advanced</strong></span> navigation section provides overviews of lower level Fleet resources. <a class="link" href="https://fleet.rancher.io/ref-bundle-stages" target="_blank">A bundle</a> is an internal resource used for the orchestration of resources from git. When a GitRepo is scanned it will produce one or more bundles.</p><p>To find Bundles relevant to a specific repository go to Git Repo detail page and click <code class="literal">Bundles</code> tab.</p><div class="informalfigure"><div class="mediaobject"><a href="images/fleet-repo-bundles.png"><img src="images/fleet-repo-bundles.png" width="NaN" alt="fleet repo bundles" title="fleet repo bundles"/></a></div></div><p>For each cluster the Bundle is applied to a BundleDeployment resource is created. To view BundleDeployment details click <code class="literal">Graph</code> button at the top right of the Git Repo detail page.
A graph of <span class="strong"><strong>Repo &gt; Bundles &gt; BundleDeployments</strong></span> is loaded. Click the BundleDeployment in the graph to see it’s details and click the <code class="literal">Id</code> to view the BundleDeployment YAML.</p><div class="informalfigure"><div class="mediaobject"><a href="images/fleet-repo-graph.png"><img src="images/fleet-repo-graph.png" width="NaN" alt="fleet repo graph" title="fleet repo graph"/></a></div></div><p>For additional information on Fleet troubleshooting tips, refer <a class="link" href="https://fleet.rancher.io/troubleshooting" target="_blank">here</a></p></section><section class="sect1" id="id-fleet-examples" data-id-title="Fleet examples"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">5.6 </span><span class="title-name">Fleet examples</span></span> <a title="Permalink" class="permalink" href="components-fleet.html#id-fleet-examples">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p>Edge team maintains a <a class="link" href="https://github.com/suse-edge/fleet-examples" target="_blank">repository</a> with examples of Edge projects installation via Fleet.</p><p>Fleet project provides a <a class="link" href="https://github.com/rancher/fleet-examples" target="_blank">fleet-examples</a> repository which covers all use cases for <a class="link" href="https://fleet.rancher.io/gitrepo-content" target="_blank">Git repository structure</a>.</p></section></section><nav class="bottom-pagination"><div><a class="pagination-link prev" href="components-rancher.html"><span class="pagination-relation">Previous</span><span class="pagination-label"><span class="title-number">Chapter 4 </span>Rancher</span></a> </div><div><a class="pagination-link next" href="components-slmicro.html"><span class="pagination-relation">Next</span><span class="pagination-label"><span class="title-number">Chapter 6 </span>SLE Micro</span></a> </div></nav></article><aside id="_side-toc-page" class="side-toc"><div class="side-title">On this page</div><div class="toc"><ul><li><span class="section"><a href="components-fleet.html#id-installing-fleet-with-helm"><span class="title-number">5.1 </span><span class="title-name">Installing Fleet with Helm</span></a></span></li><li><span class="section"><a href="components-fleet.html#id-using-fleet-with-rancher"><span class="title-number">5.2 </span><span class="title-name">Using Fleet with Rancher</span></a></span></li><li><span class="section"><a href="components-fleet.html#id-accessing-fleet-in-the-rancher-ui"><span class="title-number">5.3 </span><span class="title-name">Accessing Fleet in the Rancher UI</span></a></span></li><li><span class="section"><a href="components-fleet.html#id-example-of-installing-kubevirt-with-rancher-and-fleet-using-rancher-dashboard"><span class="title-number">5.4 </span><span class="title-name">Example of installing KubeVirt with Rancher and Fleet using Rancher Dashboard</span></a></span></li><li><span class="section"><a href="components-fleet.html#id-debugging-and-troubleshooting"><span class="title-number">5.5 </span><span class="title-name">Debugging and troubleshooting</span></a></span></li><li><span class="section"><a href="components-fleet.html#id-fleet-examples"><span class="title-number">5.6 </span><span class="title-name">Fleet examples</span></a></span></li></ul></div><div class="side-title">Share this page</div><ul class="share"><li><a id="_share-fb" href="#" title="Facebook"> </a></li><li><a id="_share-in" href="#" title="LinkedIn"> </a></li><li><a id="_share-tw" href="#" title="Twitter/X"> </a></li><li><a id="_share-mail" href="#" title="E-Mail"> </a></li><li><a id="_print-button" href="#" title="Print this page"> </a></li></ul> </aside></main><footer id="_footer"><div class="growth-inhibitor"><div class="copy"><span class="copy__rights">© SUSE
                 2024</span></div></div></footer></body></html>